<!DOCTYPE html>
<html>
<head>
    <title>Paste Screenshot Handler</title>
    <style>
        body { font-family: Arial; margin: 20px; }
        button { padding: 10px; margin: 5px; background: #4caf50; color: white; border: none; cursor: pointer; }
        .image-container { border: 1px solid #ddd; padding: 10px; margin-top: 10px; display: none; }
        img { max-width: 100%; }
    </style>
</head>
<body>
    <h1>Paste Screenshot Handler</h1>
    <p>Use Win+Shift+S to capture screenshots, then paste with Ctrl+V</p>
    
    <button id="upload-pdf">Open PDF</button>
    
    <h2>Question</h2>
    <button id="paste-question">Paste for Question (Ctrl+V)</button>
    <div id="question-container" class="image-container">
        <img id="question-image" src="">
    </div>
    
    <h2>Option A</h2>
    <button id="paste-option-a">Paste for Option A (Ctrl+V)</button>
    <div id="option-a-container" class="image-container">
        <img id="option-a-image" src="">
    </div>
    
    <script>
        // PDF upload button
        document.getElementById('upload-pdf').addEventListener('click', function() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'application/pdf';
            
            input.onchange = function(e) {
                if (e.target.files.length > 0) {
                    const file = e.target.files[0];
                    const url = URL.createObjectURL(file);
                    window.open(url, '_blank');
                }
            };
            
            input.click();
        });
        
        // Paste handler function
        function setupPasteHandler(buttonId, imageId, containerId) {
            document.getElementById(buttonId).addEventListener('click', function() {
                alert('Press Ctrl+V to paste your screenshot');
                
                function handlePaste(e) {
                    const items = e.clipboardData.items;
                    
                    for (let i = 0; i < items.length; i++) {
                        if (items[i].type.indexOf('image') !== -1) {
                            const blob = items[i].getAsFile();
                            const reader = new FileReader();
                            
                            reader.onload = function(event) {
                                document.getElementById(imageId).src = event.target.result;
                                document.getElementById(containerId).style.display = 'block';
                                document.removeEventListener('paste', handlePaste);
                            };
                            
                            reader.readAsDataURL(blob);
                            break;
                        }
                    }
                }
                
                document.addEventListener('paste', handlePaste);
            });
        }
        
        // Setup paste handlers
        setupPasteHandler('paste-question', 'question-image', 'question-container');
        setupPasteHandler('paste-option-a', 'option-a-image', 'option-a-container');
    </script>
</body>
</html>